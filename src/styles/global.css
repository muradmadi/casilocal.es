@import "tailwindcss";

@plugin "tailwindcss-animate";
@plugin "@tailwindcss/typography";

@import "@fontsource/fraunces/index.css";
@import "@fontsource/fraunces/400-italic.css"; /* Ensure italic variant is available if variables don't cover it fully or for fallback */
@import "@fontsource/instrument-sans";

@theme {
  /* --- PALETTE: THE MARITIME FOUNDRY --- */
  /* Base: Deep, oxidized blue. Replaces 'Pidgeon'. */
  --color-foundry-900: oklch(25% 0.08 260);
  --color-foundry-800: oklch(35% 0.09 255);
  
  /* Neutral: Warm paper tones. Replaces 'Sidewalk/Street'. */
  --color-paper: oklch(98% 0.02 85);
  --color-ink: oklch(20% 0.03 260);

  /* Primary Brand: Burnt Orange. Consolidates 'Skyline/Peach'. */
  --color-ember: oklch(62% 0.22 30);
  
  /* Highlight: Muted Gold. Replaces 'Sunshine'. */
  --color-brass: oklch(80% 0.15 75);

  /* Destructive: Dried Blood. Replaces 'Tinto'. */
  --color-oxide: oklch(45% 0.16 25);
  
  /* Signals */
  --color-moss: oklch(65% 0.18 150); /* Signal Good/Success */
  --color-clay: oklch(60% 0.05 80);  /* Signal Neutral */

  /* --- SEMANTIC MAPPING --- */
  
  /* Text */
  --color-text-main: var(--color-ink);
  --color-text-inv: var(--color-paper);
  --color-text-brand: var(--color-ember);
  
  /* Backgrounds */
  --color-bg-main: var(--color-paper);
  --color-bg-dark: var(--color-foundry-900);
  --color-bg-card: white;
  /* Ideally 'bg-surface' maps to white or dark depending on mode, but here we enforce white for card */
  
  /* Actions */
  --color-action: var(--color-ember);
  --color-action-fg: white;
  --color-action-sec: var(--color-foundry-900);

  /* Status */
  --color-status-good: var(--color-moss);
  --color-status-bad: var(--color-oxide);
  --color-status-neutral: var(--color-clay);
  
  /* Borders */
  --color-line: color-mix(in oklch, var(--color-ink), transparent 90%);
  --color-line-heavy: var(--color-foundry-900);

  /* --- TYPOGRAPHY --- */
  --font-display: "Fraunces", serif;
  --font-body: "Instrument Sans", sans-serif;

  /* --- RADIUS: The "Machined" Look --- */
  --radius-xs: 0.125rem;  /* 2px - Buttons, Inputs */
  --radius-sm: 0.25rem;   /* 4px - Cards, Images */
  --radius-md: 0.375rem;  /* 6px - Modals only */
  --radius-full: 9999px;  /* Stamps/Pills only */

  /* --- SHADOWS: The "Hard Light" Approach --- */
  --shadow-card: 4px 4px 0px 0px var(--color-ink); 
  --shadow-card-hover: 6px 6px 0px 0px var(--color-ember);
  --shadow-button: 2px 2px 0px 0px var(--color-ink);
  --shadow-button-active: 0px 0px 0px 0px var(--color-ink);

  /* --- BORDERS: The "Ink" Weight --- */
  --border-width-DEFAULT: 1px;
  --border-width-2: 2px;
  
  /* --- ANIMATION: The "Switch" Feel --- */
  --ease-mechanical: cubic-bezier(0.25, 1, 0.5, 1);
  --animate-press: press 0.1s var(--ease-mechanical);
}

/* --- KEYFRAMES --- */
@keyframes press {
  0% { transform: translate(0, 0); box-shadow: 2px 2px 0px var(--color-ink); }
  100% { transform: translate(2px, 2px); box-shadow: 0px 0px 0px var(--color-ink); }
}

@layer utilities {
  .bg-grain {
    position: relative;
    isolation: isolate;
  }
  .bg-grain::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    opacity: 0.4;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    pointer-events: none;
    mix-blend-mode: overlay;
  }
  
  .text-bleed {
    color: var(--color-ink);
    mix-blend-mode: multiply;
  }
}

@layer base {
  /* Default Theme Settings */
  html {
    background-color: var(--color-bg-main);
    color: var(--color-text-main);
    font-family: var(--font-body);
    font-weight: 400; /* Minimum weight 400 */
    line-height: 1.625; /* leading-relaxed */
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 900; /* font-black */
    letter-spacing: -0.025em; /* tracking-tight */
    line-height: 1.1; /* tight-leading */
    font-variation-settings: "SOFT" 0, "WONK" 0;
  }
  
  /* Emphasis/Italic for Display Text */
  .display-italic, h1 em, h2 em, h3 em {
    font-style: italic;
    font-variation-settings: "SOFT" 100, "WONK" 1;
  }
}

/* Component Classes for specific UI elements mentioned */
@layer components {
  .btn-primary {
    @apply bg-action text-action-fg px-4 py-2 rounded-xs shadow-button hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all duration-100 ease-mechanical;
  }
  
  .btn-secondary {
    @apply border border-line-heavy text-action-sec px-4 py-2 rounded-xs shadow-button hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all duration-100 ease-mechanical;
  }
}

/* Hide Scrollbars Globally */
@layer base {
  * {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  *::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
}